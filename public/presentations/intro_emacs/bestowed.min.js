/*! bestowed 2016-02-02 */
var bestowed=bestowed||{},exports=exports||{};!function(){"use strict";bestowed.current=0,bestowed.maxSlides=0,bestowed.slideCache=null,bestowed.cachedHead=null,bestowed.CSS_ENTRY="/css/main.css",bestowed.JS_ENTRY="/js/main.js",bestowed.CSS_FILE="bestowed.min.css",bestowed.fullPath=null,bestowed.init=function(){bestowed.slideCache=bestowed.slides(),bestowed.maxSlides=bestowed.slideCache.length,bestowed.fullPath=bestowed.scriptPath(document.getElementsByTagName("script")),bestowed.changeSlide(0),bestowed.current=0,bestowed.writeMeta({charset:"utf-8"}),bestowed.writeMeta({"http-equiv":"X-UA-Compatible",content:"IE=edge,chrome=1"}),bestowed.writeMeta({name:"viewport",content:"width=device-width, initial-scale=1"}),bestowed.writeStyle(bestowed.fullPath+bestowed.CSS_FILE);var a=bestowed.findThemePath();a.toString().match(/^http/)||(a=bestowed.fullPath+a);try{bestowed.writeStyle(a+bestowed.CSS_ENTRY),bestowed.writeScript(a+bestowed.JS_ENTRY)}catch(b){console.log("Failed to load theme. "+b)}},bestowed.scriptPath=function(a){if(bestowed.fullPath)return bestowed.fullPath;var b=a[a.length-1].src,c=b.split("/");c.pop();var d=c.join("/");return d+"/"},bestowed.writeStyle=function(a){bestowed.cachedHead=bestowed.cachedHead||document.getElementsByTagName("head")[0];var b=document.createElement("link");b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),b.setAttribute("href",a),bestowed.cachedHead.appendChild(b)},bestowed.writeScript=function(a){bestowed.cachedHead=bestowed.cachedHead||document.getElementsByTagName("head")[0];var b=document.createElement("script");b.setAttribute("type","text/javascript"),b.setAttribute("src",a),bestowed.cachedHead.appendChild(b)},bestowed.writeMeta=function(a){bestowed.cachedHead=bestowed.cachedHead||document.getElementsByTagName("head")[0];var b=document.createElement("meta");for(var c in a)b.setAttribute(c,a[c]);bestowed.cachedHead.appendChild(b)},bestowed.findThemePath=function(){for(var a=document.getElementsByTagName("meta"),b=a.length,c=0;b>c;c++){var d=a[c].getAttribute("name");if("bestowed-theme"===d)return a[c].getAttribute("value")}},bestowed.slides=function(){return bestowed.slideCache?bestowed.slideCache:document.getElementsByClassName("outline-2")},bestowed.changeSlide=function(a){if(!(a>=bestowed.maxSlides||0>a)){var b=document.getElementsByClassName("current"),c=document.getElementsByClassName("previous");c[0]&&bestowed.removeClass(c[0],"previous"),b[0]&&bestowed.replaceClass(b[0],"current","previous"),bestowed.slides()[a].className+=" current",bestowed.current=a}},bestowed.nextSlide=function(){bestowed.changeSlide(bestowed.current+1)},bestowed.previousSlide=function(){bestowed.changeSlide(bestowed.current-1)},bestowed.removeClass=function(a,b){var c=new RegExp(b,"g");a.className=a.className.replace(c,"")},bestowed.replaceClass=function(a,b,c){var d=new RegExp(b,"g");a.className=a.className.replace(d,c)},bestowed.handleKeyDown=function(a){return 40===a.keyCode||39===a.keyCode|32===a.keyCode|74===a.keyCode?(bestowed.nextSlide(),a.preventDefault(),!1):38===a.keyCode||37===a.keyCode||8===a.keyCode||75===a.keyCode?(bestowed.previousSlide(),a.preventDefault(),!1):void 0}}(),window.addEventListener("load",bestowed.init),window.addEventListener("keydown",bestowed.handleKeyDown),exports.bestowed=bestowed;